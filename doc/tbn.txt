http://steps3d.narod.ru/tutorials/dot3-tutorial.html

По этим трем векторам (t,b,n) можно построить свою систему координат (называемую касательной или TBN).
Для получения матрицы преобразования в эту систему координат (будем считать, что 
ее начало совпадает с началом системы координат, в которой задана рассматриваемая грань) 
достаточно взять каждый из этих векторов и записать как строку матрицы.

         | tx ty tz |
     M = | bx by bz |
         | nx ny nz |

Матрица М будет ортогональной, поскольку базисные вектора ортонормированы, поэтому обратная к ней 
матрица равна транспонированной матрице М.
Пусть p - вектор в исходной системе координат, тогда его представление в новой системе кординат будет

M*p=((t,p),(b,p),(n,p)).

Вектор нормали к грани в касательной системе координат равен (0,0,1), т.е. совпадает со значением в 
рассмотренном ранее частном случае. Поэтому очень удобно вычисление освещенности проводить именно в 
касательном пространстве. Поскольку карта нормалей уже задана в нем, осталось только задать вектор 
l в этом же пространстве.
Обратите внимание, что l - это направление на источник света и поэтому какую точку мы выбрали в 
качестве начала координат для касательной системы координат, не важно. Таким образом, вывод 
произвольно-ориентированной грани с попиксельным вычислением диффузной освещенности отличается от 
расмотренного простейшего случая только тем, что значения вектора l в вершинах надо переводить 
в касательное пространство.
